---
title: "ACLED Processing Steps"
author: "Maksim Zubok"
date: "2024-01-31"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

pacman::p_load(tidyverse, rio, ggplot2, lubridate, quanteda, keyATM, readxl, caret, knitr)

```

# Intro

The goal is to categorise protest types automatically. For that, we train ML algortithm with hand-annotated data. 

## Set-Up 


```{r load n process data, include=FALSE}
##### load and preprocess data #####
acled <- import("C:/Users/murrn/GitHub/nonviolent-repression/data/manually_labelled_data/acled_main_with_manual_coding_2018_2023.csv")

acled_labells <- acled %>% 
  filter(!is.na(topic_manual))
```


acled_labells file has `r nrow(acled_labells)` hand-labelled observations  for a period from `r min(acled_labells$event_date)` to `r max(acled_labells$event_date)`. 

```{r, echo=FALSE}
acled_labells %>% 
  group_by(year) %>% 
  summarise(n()) %>% kable(format = "markdown")
```


```{r merge files, include=FALSE}
acled_lbls_2020 <- import("C:/Users/murrn/GitHub/nonviolent-repression/data/manually_labelled_data/acled_data_2018_21-2.xlsx") %>% 
  filter(!is.na(type))

acled_lbls_2018_19_23 <- import("C:/Users/murrn/GitHub/nonviolent-repression/data/manually_labelled_data/acled_sample_2018_2023.xlsx") %>% 
  filter(!is.na(topic_manual))
```

acled_lbls_2018_19_23 file has `r nrow(acled_lbls_2018_19_23)` hand-labelled observations  for a period from `r min(acled_lbls_2018_19_23$event_date)` to `r max(acled_lbls_2018_19_23$event_date)`. 

```{r, echo=FALSE}
acled_lbls_2018_19_23 %>% 
  group_by(year) %>% 
  summarise(n()) %>% kable(format = "markdown")
```


acled_lbls_2020 file has `r nrow(acled_lbls_2020)` hand-labelled observations for a period from `r min(acled_lbls_2020$event_date)` to `r max(acled_lbls_2020$event_date)`. The file 

```{r, echo=FALSE}
acled_lbls_2020 %>% 
  group_by(year) %>% 
  summarise(n()) %>% kable(format = "markdown")
```


# Keyword Extraction 




